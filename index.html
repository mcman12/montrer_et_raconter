<!DOCTYPE html> <html>
  <head>
    <title>GraphQL</title>
    <meta charset="utf-8">
    <link rel= "stylesheet" href= "css/stylesheet.css" />
  </head>
  <body>
    <textarea id="source">

class: middle, title-slide

# GraphQL@CDS
## The NRCAN API

---
class: center

# APIs

* Serving data, not web pages

.fourty[![](images/apis.png)]

---
class: center, middle

.fourty[![](images/mandatory_apis.png)]

---
class: center, middle

.fifty[![](images/data_sharing.svg)]

---
class: middle, center

# How is GraphQL different?

* Gives you what you ask for

---

class: code, smaller-text

## What year was Luke Skywalker born in?

```sh
mike@sleepycat:~$ curl -s https://swapi.co/api/people/1/ | jq '.'
{
  "name": "Luke Skywalker",
  "height": "172",
  "mass": "77",
  "hair_color": "blond",
  "skin_color": "fair",
  "eye_color": "blue",
  "birth_year": "19BBY",
  "gender": "male",
  "homeworld": "https://swapi.co/api/planets/1/",
  "films": [
    "https://swapi.co/api/films/2/",
    "https://swapi.co/api/films/6/",
    "https://swapi.co/api/films/3/",
    "https://swapi.co/api/films/1/",
    "https://swapi.co/api/films/7/"
  ],
  "species": [
    "https://swapi.co/api/species/1/"
  ],
  "vehicles": [
    "https://swapi.co/api/vehicles/14/",
    "https://swapi.co/api/vehicles/30/"
  ],
  "starships": [
    "https://swapi.co/api/starships/12/",
    "https://swapi.co/api/starships/22/"
  ],
  "created": "2014-12-09T13:50:51.644000Z",
  "edited": "2014-12-20T21:17:56.891000Z",
  "url": "https://swapi.co/api/people/1/"
}
```
---
class: code, smaller-text

## What year was Luke Skywalker born in?

```sh
mike@sleepycat:~$ curl -s https://swapi.co/api/people/1/ | jq '.birth_year'
"19BBY"
```
---

<iframe width="100%" height="100%" src="https://graphqlbin.com/v2/oQzPCr" frameborder="0" allowfullscreen></iframe>

---
class: middle, center

# How is GraphQL different?

* Gives you what you ask for
* Gets related data in a single request

---
class: code, smaller-text

## Luke's birth year + names of films

```sh
mike@sleepycat:~$ curl -s https://swapi.co/api/people/1/ | jq '.'
{
  "name": "Luke Skywalker",
  "height": "172",
  "mass": "77",
  "hair_color": "blond",
  "skin_color": "fair",
  "eye_color": "blue",
  "birth_year": "19BBY",
  "gender": "male",
  "homeworld": "https://swapi.co/api/planets/1/",
  "films": [
    "https://swapi.co/api/films/2/",
    "https://swapi.co/api/films/6/",
    "https://swapi.co/api/films/3/",
    "https://swapi.co/api/films/1/",
    "https://swapi.co/api/films/7/"
  ],
  "species": [
    "https://swapi.co/api/species/1/"
  ],
  "vehicles": [
    "https://swapi.co/api/vehicles/14/",
    "https://swapi.co/api/vehicles/30/"
  ],
  "starships": [
    "https://swapi.co/api/starships/12/",
    "https://swapi.co/api/starships/22/"
  ],
  "created": "2014-12-09T13:50:51.644000Z",
  "edited": "2014-12-20T21:17:56.891000Z",
  "url": "https://swapi.co/api/people/1/"
}
```
---
class: code, smaller-text

## Luke's birth year + names of films

```sh
mike@sleepycat:~$ curl -s https://swapi.co/api/films/2/ | jq '.'
{
  "title": "The Empire Strikes Back",
  "episode_id": 5,
  "opening_crawl": "It is a dark time for the\r\nRebellion. Although the Death\r\nStar has been destroyed,\r\nImperial troops have driven the\r\nRebel forces from their hidden\r\nbase and pursued them across\r\nthe galaxy.\r\n\r\nEvading the dreaded Imperial\r\nStarfleet, a group of freedom\r\nfighters led by Luke Skywalker\r\nhas established a new secret\r\nbase on the remote ice world\r\nof Hoth.\r\n\r\nThe evil lord Darth Vader,\r\nobsessed with finding young\r\nSkywalker, has dispatched\r\nthousands of remote probes into\r\nthe far reaches of space....",
  "director": "Irvin Kershner",
  "producer": "Gary Kurtz, Rick McCallum",
  "release_date": "1980-05-17",
  "characters": [
    "https://swapi.co/api/people/1/",
    "https://swapi.co/api/people/2/",
    "https://swapi.co/api/people/3/",
    "https://swapi.co/api/people/4/",
    "https://swapi.co/api/people/5/",
    "https://swapi.co/api/people/10/",
    "https://swapi.co/api/people/13/",
    "https://swapi.co/api/people/14/",
    "https://swapi.co/api/people/18/",
    "https://swapi.co/api/people/20/",
    "https://swapi.co/api/people/21/",
    "https://swapi.co/api/people/22/",
    "https://swapi.co/api/people/23/",
    "https://swapi.co/api/people/24/",
    "https://swapi.co/api/people/25/",
    "https://swapi.co/api/people/26/"
  ],
  "planets": [
    "https://swapi.co/api/planets/4/",
    "https://swapi.co/api/planets/5/",
    "https://swapi.co/api/planets/6/",
    "https://swapi.co/api/planets/27/"
  ],
  "starships": [
    "https://swapi.co/api/starships/15/",
    "https://swapi.co/api/starships/10/",
    "https://swapi.co/api/starships/11/",
    "https://swapi.co/api/starships/12/",
    "https://swapi.co/api/starships/21/",
    "https://swapi.co/api/starships/22/",
    "https://swapi.co/api/starships/23/",
    "https://swapi.co/api/starships/3/",
    "https://swapi.co/api/starships/17/"
  ],
  "vehicles": [
    "https://swapi.co/api/vehicles/8/",
    "https://swapi.co/api/vehicles/14/",
    "https://swapi.co/api/vehicles/16/",
    "https://swapi.co/api/vehicles/18/",
    "https://swapi.co/api/vehicles/19/",
    "https://swapi.co/api/vehicles/20/"
  ],
  "species": [
    "https://swapi.co/api/species/6/",
    "https://swapi.co/api/species/7/",
    "https://swapi.co/api/species/3/",
    "https://swapi.co/api/species/2/",
    "https://swapi.co/api/species/1/"
  ],
  "created": "2014-12-12T11:26:24.656000Z",
  "edited": "2017-04-19T10:57:29.544256Z",
  "url": "https://swapi.co/api/films/2/"
}

```
---

<iframe width="100%" height="100%" src="https://graphqlbin.com/v2/zKOzTw" frameborder="0" allowfullscreen></iframe>

---

class: middle, center

# How is GraphQL different?

* Gives you what you ask for
* Gets related data in a single request
* Visbility

---
class: center, middle

.seventy[![](images/monitoring.png)]

---
class: middle, center

# What this meant for NRCAN

---

<iframe width="100%" height="100%" src="http://nrcanapi.cds-snc.ca/graphiql?query=%7B%0A%20%20dwellings(filters%3A%20%5B%7Bfield%3A%20dwellingForwardSortationArea%2C%20comparator%3A%20eq%2C%20value%3A%20%22C1A%22%7D%5D)%20%7B%0A%20%20%20%20results%20%7B%0A%20%20%20%20%20%20forwardSortationArea%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A" frameborder="0" allowfullscreen></iframe>

---


class: center, middle

> Upon learning about the API, Metro Vancouver realized that it [the API] would completely solve their problem...there was even crying and laughter involved upon this realization. <cite>Partner at NRCan</cite>

---
class: middle, center

# .fifty[![](images/graphql_api.png)]

* Solves problems we have right now
* The problems it solves are about to become far more common

---
class: center

## See you on Github!

.contactImages[![Contact Images](images/contact.png)]

.github[@sleepycat]
.twitter[@dexterchief]
.email[mike.williamson@tbs-sct.gc.ca]

    </textarea>
    <script src="js/remark.min.js"></script>
    <script>
      var slideshow = remark.create({ratio: "16:9"});
    </script>
  </body>
</html>
